---
title: hexo+github搭建个人博客并实现多端更新
date: 2017-07-12 10:46:16
---

使用Hexo在ubuntu 14.04下创建博客，并实现在win10 64位电脑同步更新博客。

# 创建博客

在ubuntu 14.04系统创建博客，网上教程满天飞。话说Hexo号称是可以30分钟搭建个人博客，然而实际过程中遇到无数的坑，无数次卸载重来。最后参考[ZL的教程](https://github.com/MasterIzumi/tricks/blob/master/blog_on_github.md)成功实现博客搭建。

**注意**

[ZL的教程](https://github.com/MasterIzumi/tricks/blob/master/blog_on_github.md)中是直接输命令，而我安装好之后，每一步都需要sudo来运行，例如

```
sudo hexo g
sudo hexo d
```

如果直接输入命令无法更新博客的话，试试加sudo。

## 安装Nodejs

```
sudo apt-get install nodejs
sudo apt-get install nodejs-legacy
sudo apt-get install npm
```

经实际操作，以上命令按顺序装，否则会出错。

## 安装Hexo

```
sudo npm install hexo-cli -g
```

初始化

```
mkdir blog
cd blog
sudo hexo init
```

此时可以生成并查看博客了，使用的是默认主题，若一切正常，则会出现名为Hello World的博客。

```
sudo hexo g # generate webpage
sudo hexo s # run local server
```

浏览器输入127.0.0.1:4000即可查看博客。每次修改完之后可以使用 sudo hexo s 指令进行本地查看。

## 主题

Hexo具有丰富的主题可供选择，这里采用的是人气颇高的Next主题：

```
sudo hexo clean
cd themes
git clone https://github.com/iissnan/hexo-theme-next.git
```

主题配置通过修改主题文件夹里面_config.yml文件，然后更新博客：

```
sudo hexo g # generate webpage
sudo hexo s # run local server
```

主题配置参考[NexT](http://theme-next.iissnan.com/getting-started.html)。

## 与你的GitHub链接

首先确保有GitHub账号，并且创建一个空的仓库，命名为yourname.github.io，yourname是GitHub帐户名。

```
cd blog
sudo npm install hexo-deployer-git --save
```

编辑博客文件夹目录下的_config.yml文件，注意每个：后面均有一个空格：

```
deploy:
  type: git
  repository: https://github.com/yourname/yourname.github.io.git # 此处大小写敏感，需注意
  branch:master
```

重新更新博客：

```
sudo hexo clean
sudo hexo g
sudo hexo d
```

可以打开网页进行查看，网址：yourname.github.io。


# 多端更新

若需要多台计算机更新同一个博客，则需要对博客的本地文件进行同步，教程参考[Righere的博客](https://righere.github.io/2016/10/10/install-hexo/)。

ubuntu 14.04配置过程如上，不再叙述，这里记录一下win10 64位系统的安装配置过程。

## 安装Git

[Git x64下载地址](https://github-production-release-asset-2e65be.s3.amazonaws.com/23216272/ed753c7e-5a85-11e7-9106-d484e52df854?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20170712%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20170712T034345Z&X-Amz-Expires=300&X-Amz-Signature=28dfdad9dcc187544a3221a3ae8e0a6391eaf624c47f9cb49065e5dda567ee0e&X-Amz-SignedHeaders=host&actor_id=16009946&response-content-disposition=attachment%3B%20filename%3DGit-2.13.2-64-bit.exe&response-content-type=application%2Foctet-stream)

一路next。

## 安装Nodejs

[Nodejs v6.11.1 x64下载地址](https://nodejs.org/dist/v6.11.1/node-v6.11.1-x64.msi)

一路next就可以，默认装在C盘。我尝试过装在非系统盘，结果悲剧了一上午，各种报错。还是不要自作聪明了。

## 同步博客文件

如果我们登录GitHub就会发现，hexo默认push的只是必要的网页文件，而我们需要把所有的本地文件都上传，才能在另一台计算机进行同步更博。此部分教程参考[monkey lzl的博客](http://blog.csdn.net/Monkey_LZL/article/details/60870891)。

在ubuntu 14.04计算机上：

```
cd blog
```

**注意**： 一定要删去git clone下来的主题文件夹里面的.git文件夹！

```
git init
git add -A
git commit -m "all blog source files"
git branch hexo
git checkout hexo
git remote add origin git@github.com:yourname/yourname.github.io.git
git push origin hexo -f
```

以上代码的意思是在博客仓库新建了一个hexo分支，用来储存博客源文件。

切换到win10 64位计算机：

```
git clone -b hexo git@github.com:yourname/yourname.github.io.git
cd yourname.github.io
```

hexo和博客文件就同步好了，只有每次写博客的时候就先 git pull 一下即可。

## 安装Hexo

```
npm install hexo-cli -g
npm install
```

## 更新博客

新建博客：

```
hexo new post "new blog name"
git add -A
git commit -m "XXX"
git push origin hexo
hexo g
hexo d
```

打开自己的博客网页：https：//yourname.github.io，更新成功。


> 配置hexo折腾了大概一天半的时间，不过配好之后的使用体验和博客美观程度相当好，比之前博客好太多了，还是很值得的。最重要的是一定要按照步骤一步步来，千万不要自作聪明，否则将会花费很多很多时间。
